<!doctype html>
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en-US"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en-US"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en-US"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en-US"> <!--<![endif]-->
<head>

<!-- Meta Tags -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<!-- Mobile Specifics -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<!-- Title -->
<title>BIDS Tutorial Series: HeuDiConv Walkthrough | Stanford Center for Reproducible Neuroscience</title>

<!-- Favicon -->
<link rel="shortcut icon" href="wp-content/uploads/2015/06/favicon.png" />

<!-- Apple Touch Icons -->    

<!-- RSS & Pingbacks -->
<link rel="alternate" type="application/rss+xml" title="Stanford Center for Reproducible Neuroscience RSS Feed" href="feed/index.html" />
<link rel="pingback" href="https://reproducibility.stanford.edu/xmlrpc.php" />

<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]--> 

<!-- Google Font for Revolution Slider -->
<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700' rel='stylesheet' type='text/css'>

<meta name='robots' content='max-image-preview:large' />
	<style>img:is([sizes="auto" i], [sizes^="auto," i]) { contain-intrinsic-size: 3000px 1500px }</style>
	<link rel='dns-prefetch' href='https://maps.google.com/' />
<link rel='dns-prefetch' href='https://fonts.googleapis.com/' />
<link rel="alternate" type="application/rss+xml" title="Stanford Center for Reproducible Neuroscience &raquo; Feed" href="feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="Stanford Center for Reproducible Neuroscience &raquo; Comments Feed" href="comments/feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="Stanford Center for Reproducible Neuroscience &raquo; BIDS Tutorial Series: HeuDiConv Walkthrough Comments Feed" href="bids-tutorial-series-part-2a/feed/index.html" />
		<!-- This site uses the Google Analytics by ExactMetrics plugin v8.3.1 - Using Analytics tracking - https://www.exactmetrics.com/ -->
		<!-- Note: ExactMetrics is not currently configured on this site. The site owner needs to authenticate with Google Analytics in the ExactMetrics settings panel. -->
					<!-- No tracking code set -->
				<!-- / Google Analytics by ExactMetrics -->
		<script type="text/javascript">
/* <![CDATA[ */
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/reproducibility.stanford.edu\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.7.1"}};
/*! This file is auto-generated */
!function(i,n){var o,s,e;function c(e){try{var t={supportTests:e,timestamp:(new Date).valueOf()};sessionStorage.setItem(o,JSON.stringify(t))}catch(e){}}function p(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);var t=new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data),r=(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(n,0,0),new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data));return t.every(function(e,t){return e===r[t]})}function u(e,t,n){switch(t){case"flag":return n(e,"\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f","\ud83c\udff3\ufe0f\u200b\u26a7\ufe0f")?!1:!n(e,"\ud83c\uddfa\ud83c\uddf3","\ud83c\uddfa\u200b\ud83c\uddf3")&&!n(e,"\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f","\ud83c\udff4\u200b\udb40\udc67\u200b\udb40\udc62\u200b\udb40\udc65\u200b\udb40\udc6e\u200b\udb40\udc67\u200b\udb40\udc7f");case"emoji":return!n(e,"\ud83d\udc26\u200d\u2b1b","\ud83d\udc26\u200b\u2b1b")}return!1}function f(e,t,n){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?new OffscreenCanvas(300,150):i.createElement("canvas"),a=r.getContext("2d",{willReadFrequently:!0}),o=(a.textBaseline="top",a.font="600 32px Arial",{});return e.forEach(function(e){o[e]=t(a,e,n)}),o}function t(e){var t=i.createElement("script");t.src=e,t.defer=!0,i.head.appendChild(t)}"undefined"!=typeof Promise&&(o="wpEmojiSettingsSupports",s=["flag","emoji"],n.supports={everything:!0,everythingExceptFlag:!0},e=new Promise(function(e){i.addEventListener("DOMContentLoaded",e,{once:!0})}),new Promise(function(t){var n=function(){try{var e=JSON.parse(sessionStorage.getItem(o));if("object"==typeof e&&"number"==typeof e.timestamp&&(new Date).valueOf()<e.timestamp+604800&&"object"==typeof e.supportTests)return e.supportTests}catch(e){}return null}();if(!n){if("undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof URL&&URL.createObjectURL&&"undefined"!=typeof Blob)try{var e="postMessage("+f.toString()+"("+[JSON.stringify(s),u.toString(),p.toString()].join(",")+"));",r=new Blob([e],{type:"text/javascript"}),a=new Worker(URL.createObjectURL(r),{name:"wpTestEmojiSupports"});return void(a.onmessage=function(e){c(n=e.data),a.terminate(),t(n)})}catch(e){}c(n=f(s,u,p))}t(n)}).then(function(e){for(var t in e)n.supports[t]=e[t],n.supports.everything=n.supports.everything&&n.supports[t],"flag"!==t&&(n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&n.supports[t]);n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&!n.supports.flag,n.DOMReady=!1,n.readyCallback=function(){n.DOMReady=!0}}).then(function(){return e}).then(function(){var e;n.supports.everything||(n.readyCallback(),(e=n.source||{}).concatemoji?t(e.concatemoji):e.wpemoji&&e.twemoji&&(t(e.twemoji),t(e.wpemoji)))}))}((window,document),window._wpemojiSettings);
/* ]]> */
</script>
<style id='wp-emoji-styles-inline-css' type='text/css'>

	img.wp-smiley, img.emoji {
		display: inline !important;
		border: none !important;
		box-shadow: none !important;
		height: 1em !important;
		width: 1em !important;
		margin: 0 0.07em !important;
		vertical-align: -0.1em !important;
		background: none !important;
		padding: 0 !important;
	}
</style>
<link rel='stylesheet' id='wp-block-library-css' href='wp-includes/css/dist/block-library/style.min.css@ver=6.7.1.css' type='text/css' media='all' />
<style id='classic-theme-styles-inline-css' type='text/css'>
/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}
</style>
<style id='global-styles-inline-css' type='text/css'>
:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}
</style>
<link rel='stylesheet' id='contact-form-7-css' href='wp-content/plugins/contact-form-7/includes/css/styles.css@ver=4.4.2.css' type='text/css' media='all' />
<link rel='stylesheet' id='rs-plugin-settings-css' href='wp-content/plugins/revslider/rs-plugin/css/settings.css@ver=4.6.3.css' type='text/css' media='all' />
<style id='rs-plugin-settings-inline-css' type='text/css'>
.tp-caption a{color:#ff7302;text-shadow:none;-webkit-transition:all 0.2s ease-out;-moz-transition:all 0.2s ease-out;-o-transition:all 0.2s ease-out;-ms-transition:all 0.2s ease-out}.tp-caption a:hover{color:#ffa902}
</style>
<link rel='stylesheet' id='wpsm_team_b-font-awesome-front-css' href='wp-content/plugins/team-builder/assets/css/font-awesome/css/font-awesome.min.css@ver=6.7.1.css' type='text/css' media='all' />
<link rel='stylesheet' id='wpsm_team_b_bootstrap-front-css' href='wp-content/plugins/team-builder/assets/css/bootstrap-front.css@ver=6.7.1.css' type='text/css' media='all' />
<link rel='stylesheet' id='wpsm_team_b_team-css' href='wp-content/plugins/team-builder/assets/css/team.css@ver=6.7.1.css' type='text/css' media='all' />
<link rel='stylesheet' id='wpsm_team_b_owl_carousel_min_css-css' href='wp-content/plugins/team-builder/assets/css/owl.carousel.min.css@ver=6.7.1.css' type='text/css' media='all' />
<link rel='stylesheet' id='fontawesome-css' href='wp-content/themes/flex/framework/assets/fonts/fontawesome/font-awesome.css@ver=6.7.1.css' type='text/css' media='all' />
<link rel='stylesheet' id='lineicons-css' href='wp-content/themes/flex/framework/assets/fonts/lineicons/lineicons.css@ver=6.7.1.css' type='text/css' media='all' />
<link rel='stylesheet' id='typicons-css' href='wp-content/themes/flex/framework/assets/fonts/typicons/typicons.css@ver=6.7.1.css' type='text/css' media='all' />
<link rel='stylesheet' id='entypo-css' href='wp-content/themes/flex/framework/assets/fonts/entypo/entypo.css@ver=6.7.1.css' type='text/css' media='all' />
<link rel='stylesheet' id='owl-carousel-css' href='wp-content/themes/flex/framework/md-page-builder/lib/md-shortcodes/assets/js/libs/owl-carousel/owl.carousel.css@ver=6.7.1.css' type='text/css' media='all' />
<link rel='stylesheet' id='jquery-fancybox-css' href='wp-content/themes/flex/framework/md-page-builder/lib/md-shortcodes/assets/js/libs/fancybox/jquery.fancybox.css@ver=6.7.1.css' type='text/css' media='all' />
<link rel='stylesheet' id='animate-css' href='wp-content/themes/flex/framework/md-page-builder/lib/md-shortcodes/assets/css/animate.css@ver=6.7.1.css' type='text/css' media='all' />
<link rel='stylesheet' id='flex-css' href='wp-content/themes/flex_child/style.css@ver=6.7.1.css' type='text/css' media='all' />
<link rel='stylesheet' id='flex-generate-css' href='wp-content/themes/flex/assets/css/css-generate.php@ver=6.7.1.css' type='text/css' media='all' />
<link rel='stylesheet' id='flex-custom-css' href='wp-content/themes/flex/assets/css/custom.css@ver=6.7.1.css' type='text/css' media='all' />
<style id='akismet-widget-style-inline-css' type='text/css'>

			.a-stats {
				--akismet-color-mid-green: #357b49;
				--akismet-color-white: #fff;
				--akismet-color-light-grey: #f6f7f7;

				max-width: 350px;
				width: auto;
			}

			.a-stats * {
				all: unset;
				box-sizing: border-box;
			}

			.a-stats strong {
				font-weight: 600;
			}

			.a-stats a.a-stats__link,
			.a-stats a.a-stats__link:visited,
			.a-stats a.a-stats__link:active {
				background: var(--akismet-color-mid-green);
				border: none;
				box-shadow: none;
				border-radius: 8px;
				color: var(--akismet-color-white);
				cursor: pointer;
				display: block;
				font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen-Sans', 'Ubuntu', 'Cantarell', 'Helvetica Neue', sans-serif;
				font-weight: 500;
				padding: 12px;
				text-align: center;
				text-decoration: none;
				transition: all 0.2s ease;
			}

			/* Extra specificity to deal with TwentyTwentyOne focus style */
			.widget .a-stats a.a-stats__link:focus {
				background: var(--akismet-color-mid-green);
				color: var(--akismet-color-white);
				text-decoration: none;
			}

			.a-stats a.a-stats__link:hover {
				filter: brightness(110%);
				box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06), 0 0 2px rgba(0, 0, 0, 0.16);
			}

			.a-stats .count {
				color: var(--akismet-color-white);
				display: block;
				font-size: 1.5em;
				line-height: 1.4;
				padding: 0 13px;
				white-space: nowrap;
			}
		
</style>
<link rel='stylesheet' id='redux-google-fonts-flex-css' href='https://fonts.googleapis.com/css?family=Source+Sans+Pro%3A400%2C600%2C700%7CCabin%3A700&#038;subset=latin&#038;ver=1594231710' type='text/css' media='all' />
<script type="text/javascript" src="wp-includes/js/jquery/jquery.min.js@ver=3.7.1" id="jquery-core-js"></script>
<script type="text/javascript" src="wp-includes/js/jquery/jquery-migrate.min.js@ver=3.4.1" id="jquery-migrate-js"></script>
<script type="text/javascript" src="wp-content/plugins/revslider/rs-plugin/js/jquery.themepunch.tools.min.js@ver=4.6.3" id="tp-tools-js"></script>
<script type="text/javascript" src="wp-content/plugins/revslider/rs-plugin/js/jquery.themepunch.revolution.min.js@ver=4.6.3" id="revmin-js"></script>
<script type="text/javascript" src="wp-content/plugins/team-builder/assets/js/owl.carousel.min.js@ver=6.7.1" id="wpsm_team_b_owl_carousel_min_js-js"></script>
<script type="text/javascript" src="wp-content/themes/flex/framework/md-page-builder/lib/md-shortcodes/assets/js/md-shortcodes.js@ver=1" id="md-shortcodes-js"></script>
<link rel="https://api.w.org/" href="wp-json/index.html" /><link rel="alternate" title="JSON" type="application/json" href="wp-json/wp/v2/posts/536" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="xmlrpc.php@rsd" />
<meta name="generator" content="WordPress 6.7.1" />
<link rel="canonical" href="index.html@p=536.html" />
<link rel='shortlink' href='index.html@p=536.html' />
<link rel="alternate" title="oEmbed (JSON)" type="application/json+oembed" href="wp-json/oembed/1.0/embed@url=https%253A%252F%252Freproducibility.stanford.edu%252Fbids-tutorial-series-part-2a%252F" />
<link rel="alternate" title="oEmbed (XML)" type="text/xml+oembed" href="wp-json/oembed/1.0/embed@url=https%253A%252F%252Freproducibility.stanford.edu%252Fbids-tutorial-series-part-2a%252F&amp;format=xml" />
		<script type="text/javascript">
			jQuery(document).ready(function() {
				// CUSTOM AJAX CONTENT LOADING FUNCTION
				var ajaxRevslider = function(obj) {
				
					// obj.type : Post Type
					// obj.id : ID of Content to Load
					// obj.aspectratio : The Aspect Ratio of the Container / Media
					// obj.selector : The Container Selector where the Content of Ajax will be injected. It is done via the Essential Grid on Return of Content
					
					var content = "<h2>THIS IS SOME TITLE</h2><br/>";

					content += "Type:"+obj.type+"</br>";
					content += "ID:"+obj.id+"</br>";        
					content += "Aspect Ratio:"+obj.aspectratio+"</br>";  
					
					data = {};
					
					data.action = 'revslider_ajax_call_front';
					data.client_action = 'get_slider_html';
					data.token = '4b6a8dde7f';
					data.type = obj.type;
					data.id = obj.id;
					data.aspectratio = obj.aspectratio;
					
					// SYNC AJAX REQUEST
					jQuery.ajax({
						type:"post",
						url:"https://reproducibility.stanford.edu/wp-admin/admin-ajax.php",
						dataType: 'json',
						data:data,
						async:false,
						success: function(ret, textStatus, XMLHttpRequest) {
							if(ret.success == true)
								content = ret.data;								
						},
						error: function(e) {
							console.log(e);
						}
					});
					
					 // FIRST RETURN THE CONTENT WHEN IT IS LOADED !!
					 return content;						 
				};
				
				// CUSTOM AJAX FUNCTION TO REMOVE THE SLIDER
				var ajaxRemoveRevslider = function(obj) {
					return jQuery(obj.selector+" .rev_slider").revkill();
				}

				// EXTEND THE AJAX CONTENT LOADING TYPES WITH TYPE AND FUNCTION
				var extendessential = setInterval(function() {
					if (jQuery.fn.tpessential != undefined) {
						clearInterval(extendessential);
						if(typeof(jQuery.fn.tpessential.defaults) !== 'undefined')
							jQuery.fn.tpessential.defaults.ajaxTypes.push({type:"revslider",func:ajaxRevslider,killfunc:ajaxRemoveRevslider,openAnimationSpeed:0.3});   
							// type:  Name of the Post to load via Ajax into the Essential Grid Ajax Container
							// func: the Function Name which is Called once the Item with the Post Type has been clicked
							// killfunc: function to kill in case the Ajax Window going to be removed (before Remove function !
							// openAnimationSpeed: how quick the Ajax Content window should be animated (default is 0.3)
					}
				},30);
			});
		</script>
		<script type="text/javascript">
	window._se_plugin_version = '8.1.9';
</script>
	
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-135646623-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-135646623-1');
</script>

 
</head>
<body class="post-template-default single single-post postid-536 single-format-standard css3-animations-enabled device-desktop md-page-builder" style="background-color:#f5f5f5;background-image:url();">
	
<div id="wrap" class="full-width border-4">

	<header class="width-fixed height-80 attachment-fixed border-4 scroll-resize ">
		
		


		<div class="header-content" id="header-content">		
			<div class="container">
				<div id="logo">
					<a href="index.html" title="Stanford Center for Reproducible Neuroscience">
						<img src="wp-content/uploads/2020/07/CRN-2020.png" alt="" />						
					</a>
				</div>

				<nav class="header-menu menu-style- menu-uppercase-yes submenu-">
					<ul id="header-menu" class="menu"><li class="menu-item-23 menu-item menu-item-type-post_type menu-item-object-page menu-item-home simple"><a title="Home Page" href="index.html">Home</a></li>
<li class="menu-item-195 menu-item menu-item-type-post_type menu-item-object-page simple"><a href="index.html@p=28.html">About the Center</a></li>
<li class="menu-item-44 menu-item menu-item-type-post_type menu-item-object-page simple"><a href="index.html@p=42.html">Who We Are</a></li>
<li class="menu-item-52 menu-item menu-item-type-post_type menu-item-object-page simple"><a href="index.html@p=51.html">Resources</a></li>
<li class="menu-item-34 menu-item menu-item-type-post_type menu-item-object-page current_page_parent simple"><a href="blog/index.html">Blog</a></li>
<li class="menu-item-239 menu-item menu-item-type-post_type menu-item-object-page simple"><a href="index.html@p=235.html">The OHBM Replication Award</a></li>
</ul>				</nav>

								
				<a href="index.html@p=536.html#" id="search-open"><i class="entypo-search"></i></a>

<div class="header-search">
	<form method="get" action="index.html">
		<fieldset>
			<input type="text" name="s" value="" placeholder="To search type and press enter..." />
	    </fieldset>
	</form>
	<a href="index.html@p=536.html#" id="search-close"><i class="entypo-cancel"></i></a>
</div>

				<a href="index.html@p=536.html#" id="menu-mobile-trigger"></a>
			</div>
		</div>

		<div class="header-mobile">
			<div class="container">
				

				<nav class="header-menu-mobile">
					<ul id="header-menu-mobile" class="menu"><li id="menu-item-23" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home menu-item-23"><a href="index.html" title="Home Page">Home</a></li>
<li id="menu-item-195" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-195"><a href="index.html@p=28.html">About the Center</a></li>
<li id="menu-item-44" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-44"><a href="index.html@p=42.html">Who We Are</a></li>
<li id="menu-item-52" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-52"><a href="index.html@p=51.html">Resources</a></li>
<li id="menu-item-34" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-34"><a href="blog/index.html">Blog</a></li>
<li id="menu-item-239" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-239"><a href="index.html@p=235.html">The OHBM Replication Award</a></li>
</ul>				</nav>


			</div>
		</div>
	</header>


	<div class="page-content" id="post-container">
		<div class="container">
		<div class="row"><div class="col-md-9 col-md-left col-sm-left content-full"><div class="md-blog">
	<article id="post-536" class="single-post post-536 post type-post status-publish format-standard hentry category-blog">
		

<div class="post-body">
	
	<h2 class="post-title">BIDS Tutorial Series: HeuDiConv Walkthrough</h2>
	
	
<div class="post-header">
		<span class="meta-date">
		<i class="icon-calendar"></i> May 17, 2018</span>
	</span>
		
	
	
	
	</div>


	<div class="post-content"><p><strong>Introduction</strong></p>
<p>Welcome back to the next tutorial in the tutorial series &#8220;Getting Started with BIDS&#8221;. In this tutorial, we will be utilizing an off-the-shelf solution called <a href="https://github.com/nipy/heudiconv">HeuDiConv</a>. This tutorial will illustrate a detailed step-by-step guide on how to use HeuDiConv. The guide will take one subject and iteratively add one session at a time until the dataset is organized and validated. This part will provide separate command line inputs to run HeuDiConv. We will be using DICOMs from the <a href="https://openneuro.org/datasets/ds000031/versions/00001">MyConnectome dataset</a> found <a href="https://figshare.com/articles/MyConnectome_BIDS_tutorial2A/6267503">here</a> and following the <a href="http://bids.neuroimaging.io/bids_spec1.1.0.pdf">BIDS Specification version 1.1.0</a>. <a href="http://nipy.org/workshops/2017-03-boston/lectures/bids-heudiconv/#1">Another tutorial</a> has described using HeuDiConv on a different dataset. The next part of this tutorial series will examine another off-the-shelf solution to consider using to convert your dataset into a validated BIDS dataset.</p>
<p>For surfacing questions, we please ask if you may direct them to <a href="https://neurostars.org/tag/bids">NeuroStars</a> with the “bids” tag. NeuroStars is an active platform with many BIDS experts.</p>
<p>Table of Contents</p>
<ol>
<li><a href="index.html@p=536.html#heuman1">Setting up your environment</a></li>
<li><a href="index.html@p=536.html#heuman2">Run HeuDiConv on ses-001 scans to get the dicominfo file</a></li>
<li><a href="index.html@p=536.html#heuman3">Examine ses-001 dicominfo file to generate heuristic.py</a></li>
<li><a href="index.html@p=536.html#heuman4">Run HeuDiConv on ses-001 scans with heuristic.py and validate</a></li>
<li><a href="index.html@p=536.html#heuman5">Run HeuDiConv on ses-005 scans to get the dicominfo file</a></li>
<li><a href="index.html@p=536.html#heuman6">Examine ses-005 dicominfo file and update heuristic.py</a></li>
<li><a href="index.html@p=536.html#heuman7">Run HeuDiConv on ses-005 scans with updated heuristic.py and validate</a></li>
<li><a href="index.html@p=536.html#heuman8">Run HeuDiConv on ses-025 scans to get the dicominfo file</a></li>
<li><a href="index.html@p=536.html#heuman9">Examine ses-025 dicominfo file and update heuristic.py</a></li>
<li><a href="index.html@p=536.html#heuman10">Run HeuDiConv on ses-025 scans with updated heuristic.py and validate</a></li>
</ol>
<p><strong>2A. Guide to using HeuDiConv</strong></p>
<p><strong><a id="heuman1"></a>Step 1.</strong> To begin, we first need to initialize the environment. We will be utilizing <a href="https://www.docker.com/get-docker">Docker</a> for running HeuDiConv. After one has gotten Docker, we can use the command line to download HeuDiConv. The command is shown below. Once that has downloaded, one may begin the conversation</p>
<div style="background: #ffffff; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;">docker pull nipy/heudiconv:latest</pre>
</div>
<p>We will be starting with converting ses-001 within sub-01.</p>
<p><a href="wp-content/uploads/2018/03/dicom_1struc-1.png"><img fetchpriority="high" decoding="async" class=" wp-image-673 aligncenter" src="wp-content/uploads/2018/03/dicom_1struc-1.png" alt="dicom_1struc" width="302" height="299" /></a></p>
<p><strong><a id="heuman2"></a>Step 2.</strong> We are ready to run HeuDiConv. The command syntax can be seen below. Let&#8217;s break down this syntax. The &#8216;docker run &#8211;rm -it&#8217; is calling docker. The &#8216;-v /Users/franklinfeingold/Desktop/HeuDiConv_walkthrough:/base&#8217; is mounting this path and calling it base. This means that base can be used instead of the entire path. The &#8216;nipy/heudiconv:latest&#8217; is calling the latest version of HeuDiConv. The -d is the dicom directory. Notice we started the path with /base instead of the full path and subject and session are curly bracketed, this is because they are defined later in the call as -s for subject and -ss for session. The -o is where the .heudiconv directory will be, -f is for the heuristic file, and -c is the converter to use.</p>
<div style="background: #ffffff; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;">docker run --rm -it -v /Users/franklinfeingold/Desktop/HeuDiConv_walkthrough:/base nipy/heudiconv:latest -d /base/Dicom/sub-{subject}/ses-{session}/SCANS/*/DICOM/*.dcm -o /base/Nifti/ -f convertall -s 01 -ss 001 -c none --overwrite</pre>
</div>
<p>This command will output a hidden .heudiconv folder within the Nifti folder that contains a dicominfo .tsv file used to construct the heuristic file.</p>
<p><strong><a id="heuman3"></a>Step 3.</strong> Now copy the dicominfo .tsv file out of the hidden .heudiconv folder. We temporarily placed this folder at the same level as Dicom and Nifti. This file is used to construct the heuristic.py file.</p>
<div style="background: #ffffff; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;">cp /Users/franklinfeingold/Desktop/HeuDiConv_walkthrough/Nifti/.heudiconv/01/info/dicominfo_ses-001.tsv /Users/franklinfeingold/Desktop/HeuDiConv_walkthrough</pre>
</div>
<p><a href="wp-content/uploads/2018/03/Screen-Shot-2018-05-14-at-2.55.04-PM.png"><img decoding="async" class="wp-image-669 aligncenter" src="wp-content/uploads/2018/03/Screen-Shot-2018-05-14-at-2.55.04-PM.png" alt="heudiconv_tsv_ses1" width="361" height="161" /></a></p>
<p>We can open the dicominfo file and evaluate the different columns. Some of the different columns are pictured below. This information will be used to create the heuristic.py file. The heuristic.py file is used to convert and organize the data. Here is <a href="http://nipy.org/workshops/2017-03-boston/lectures/bids-heudiconv/#30">an example</a> of how a complete one may look. Our heuristic.py can be seen below. Once the heuristic file has been generated, one may delete the dicominfo .tsv file. Please place the heuristic.py file in a code folder within Nifti, pictured below. <a href="wp-content/uploads/2018/03/dicominfo-anat-1.png"><br />
</a></p>
<p><a href="wp-content/uploads/2018/03/tsvfile_ses1.png"><img decoding="async" class="wp-image-670 aligncenter" src="wp-content/uploads/2018/03/tsvfile_ses1.png" alt="tsvfile_ses1" width="455" height="290" /></a></p>
<div style="background: #ffffff; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;">import os
def create_key(template, outtype=('nii.gz',), annotation_classes=None):
    if template is None or not template:
        raise ValueError('Template must be a valid format string')
    return template, outtype, annotation_classes
def infotodict(seqinfo):
    """Heuristic evaluator for determining which runs belong where
    allowed template fields - follow python string module:
    item: index within category
    subject: participant id
    seqitem: run number during scanning
    subindex: sub index within group
    """
    t1w = create_key('sub-{subject}/{session}/anat/sub-{subject}_{session}_run-00{item:01d}_T1w')

    info = {t1w: []}
    
    for idx, s in enumerate(seqinfo):
        if (s.dim1 == 320) and (s.dim2 == 320) and ('t1_fl2d_tra' in s.protocol_name):
            info[t1w].append(s.series_id)
    return info
</pre>
</div>
<p><a href="wp-content/uploads/2018/03/struc_code_heuristic.png"><img loading="lazy" decoding="async" class=" wp-image-671 aligncenter" src="wp-content/uploads/2018/03/struc_code_heuristic.png" alt="struc_code_heuristic" width="379" height="197" /></a></p>
<p><strong><a id="heuman4"></a>Step 4.</strong> Now that we have the heuristic.py script we can run HeuDiConv again, but changing -c from none to dcm2niix and adding -b. The call is seen below.</p>
<div style="background: #ffffff; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;">docker run --rm -it -v /Users/franklinfeingold/Desktop/HeuDiConv_walkthrough:/base nipy/heudiconv:latest -d /base/Dicom/sub-{subject}/ses-{session}/SCANS/*/DICOM/*.dcm -o /base/Nifti/ -f /base/Nifti/code/heuristic.py -s 01 -ss 001 -c dcm2niix -b --overwrite</pre>
</div>
<p>Once HeuDiConv completes running, the output is pictured below. We are ready to <a href="http://bids-standard.github.io/bids-validator/">validate</a> this dataset.<a href="wp-content/uploads/2018/03/anat-completed-structure.png"><br />
</a></p>
<p class="alignnone"><a href="wp-content/uploads/2018/03/ses1_output.png"><img loading="lazy" decoding="async" class="wp-image-674 aligncenter" src="wp-content/uploads/2018/03/ses1_output.png" alt="ses1_output" width="362" height="446" /></a><a href="wp-content/uploads/2018/03/validate_1.png"><img loading="lazy" decoding="async" class="wp-image-675 aligncenter" src="wp-content/uploads/2018/03/validate_1.png" alt="validate_1" width="363" height="399" /></a></p>
<p>We find this is a valid BIDS dataset.</p>
<p><a href="wp-content/uploads/2018/02/Bids-valid-dataset.png"><img loading="lazy" decoding="async" class=" wp-image-419 aligncenter" src="wp-content/uploads/2018/02/Bids-valid-dataset.png" alt="Bids valid dataset" width="316" height="33" /></a></p>
<p><strong><a id="heuman5"></a>Step 5.</strong> We will now be adding in ses-005. <a href="wp-content/uploads/2018/03/raw-Dicom-struture-T1-and-dwi.png"><br />
</a></p>
<p><a href="wp-content/uploads/2018/03/dicom_struc5.png"><img loading="lazy" decoding="async" class="wp-image-676 aligncenter" src="wp-content/uploads/2018/03/dicom_struc5.png" alt="dicom_struc5" width="354" height="218" /></a></p>
<p>Similar to the approach taken for converting and organizing the ses-001 images, we will be running HeuDiConv to get the dicominfo .tsv file. To do this, the syntax will follow closely to the call used for <a href="index.html@p=536.html#heuman2">getting the ses-001 dicominfo file</a>.</p>
<div style="background: #ffffff; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;">docker run --rm -it -v /Users/franklinfeingold/Desktop/HeuDiConv_walkthrough:/base nipy/heudiconv:latest -d /base/Dicom/sub-{subject}/ses-{session}/SCANS/*/DICOM/*.dcm -o /base/Nifti/ -f convertall -s 01 -ss 005 -c none --overwrite</pre>
</div>
<p>This will output the dicominfo .tsv file for ses-005. Please <a href="index.html@p=536.html#heuman3">copy the dicominfo .tsv file out of the .heudiconv directory</a>.</p>
<p><strong><a id="heuman6"></a>Step 6.</strong> We can begin adding to the <a href="index.html@p=536.html#heuman3">heuristic.py</a> file to convert and organize the diffusion scans. To do this, we look at the dicominfo.tsv file and determine the condition to organize the scan. This will be added to the heuristic.py file. <a href="wp-content/uploads/2018/03/dicominfo-session1_DTI.png"><br />
</a></p>
<p><a href="wp-content/uploads/2018/03/dicominfo_5.png"><img loading="lazy" decoding="async" class="wp-image-677 aligncenter" src="wp-content/uploads/2018/03/dicominfo_5.png" alt="dicominfo_5" width="423" height="162" /></a></p>
<div style="background: #ffffff; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;">import os
def create_key(template, outtype=('nii.gz',), annotation_classes=None):
    if template is None or not template:
        raise ValueError('Template must be a valid format string')
    return template, outtype, annotation_classes
def infotodict(seqinfo):
    """Heuristic evaluator for determining which runs belong where
    allowed template fields - follow python string module:
    item: index within category
    subject: participant id
    seqitem: run number during scanning
    subindex: sub index within group
    """
    t1w = create_key('sub-{subject}/{session}/anat/sub-{subject}_{session}_run-00{item:01d}_T1w')
    func_rest = create_key('sub-{subject}/{session}/func/sub-{subject}_{session}_task-rest_run-00{item:01d}_bold')

    info = {t1w: [], func_rest: []}
    
    for idx, s in enumerate(seqinfo):
        if (s.dim1 == 320) and (s.dim2 == 320) and ('t1_fl2d_tra' in s.protocol_name):
            info[t1w].append(s.series_id)
        if (s.dim1 == 128) and (s.dim2 == 128) and ('Resting State fMRI MBEPI' in s.protocol_name):
            info[func_rest].append(s.series_id)
    return info
</pre>
</div>
<p><strong><a id="heuman7"></a>Step 7.</strong> Now that we have the updated heuristic.py file, we can delete the dicominfo.tsv file and run HeuDiConv again to convert and organize ses-005.</p>
<div style="background: #ffffff; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;">docker run --rm -it -v /Users/franklinfeingold/Desktop/HeuDiConv_walkthrough:/base nipy/heudiconv:latest -d /base/Dicom/sub-{subject}/ses-{session}/SCANS/*/DICOM/*.dcm -o /base/Nifti/ -f /base/Nifti/code/heuristic.py -s 01 -ss 005 -c dcm2niix -b --overwrite
</pre>
</div>
<p>We find that HeuDiConv converted and organized the scan, so we are ready to <a href="http://bids-standard.github.io/bids-validator/">validate</a> our dataset. In addition, shown below is the file structure up to this point.</p>
<p><a href="wp-content/uploads/2018/03/convert_struc_5.png"><img loading="lazy" decoding="async" class="wp-image-678 aligncenter" src="wp-content/uploads/2018/03/convert_struc_5.png" alt="convert_struc_5" width="335" height="314" /></a><a href="wp-content/uploads/2018/03/validate_5.png"><img loading="lazy" decoding="async" class=" wp-image-679 aligncenter" src="wp-content/uploads/2018/03/validate_5.png" alt="validate_5" width="337" height="373" /></a></p>
<p>We find this is a valid BIDS dataset.</p>
<p><a href="wp-content/uploads/2018/02/Bids-valid-dataset.png"><img loading="lazy" decoding="async" class=" wp-image-419 aligncenter" src="wp-content/uploads/2018/02/Bids-valid-dataset.png" alt="Bids valid dataset" width="287" height="30" /></a></p>
<p><strong><a id="heuman8"></a>Step 8.</strong> Now we are ready to add in the ses-025 scans. The Dicom structure is pictured below.</p>
<p><a href="wp-content/uploads/2018/03/dicom_struc_25.png"><img loading="lazy" decoding="async" class=" wp-image-680 aligncenter" src="wp-content/uploads/2018/03/dicom_struc_25.png" alt="dicom_struc_25" width="267" height="243" /></a></p>
<p>Following the same approach taken for ses-001 and ses-005 conversation and organization, we will run HeuDiConv to get the dicominfo .tsv file. To do this, the command will follow closely to the <a href="index.html@p=536.html#heuman2">HeuDiConv call used above</a>.</p>
<p>This will run and output the dicominfo .tsv file. <a href="index.html@p=536.html#heuman3">Copy the file out of the .heudiconv directory</a>.</p>
<div style="background: #ffffff; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;">docker run --rm -it -v /Users/franklinfeingold/Desktop/HeuDiConv_walkthrough:/base nipy/heudiconv:latest -d /base/Dicom/sub-{subject}/ses-{session}/SCANS/*/DICOM/*.dcm -o /base/Nifti/ -f convertall -s 01 -ss 025 -c none --overwrite
</pre>
</div>
<p><strong><a id="heuman9"></a>Step 9.</strong> We can determine the organizational rules for each of the scans from the dicominfo file and add them to the heuristic.py file. This follows the same process done for determining the rules to organize the <a href="index.html@p=536.html#heuman3">ses-001</a> and <a href="index.html@p=536.html#heuman6">ses-005</a> scans. We have pictured the dicominfo file and the completed heuristic.py file.</p>
<p><a href="wp-content/uploads/2018/03/dicominfo_25.png"><img loading="lazy" decoding="async" class="wp-image-681 aligncenter" src="wp-content/uploads/2018/03/dicominfo_25.png" alt="dicominfo_25" width="517" height="233" /></a></p>
<div style="background: #ffffff; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;">import os
def create_key(template, outtype=('nii.gz',), annotation_classes=None):
    if template is None or not template:
        raise ValueError('Template must be a valid format string')
    return template, outtype, annotation_classes
def infotodict(seqinfo):
    """Heuristic evaluator for determining which runs belong where
    allowed template fields - follow python string module:
    item: index within category
    subject: participant id
    seqitem: run number during scanning
    subindex: sub index within group
    """
    t1w = create_key('sub-{subject}/{session}/anat/sub-{subject}_{session}_run-00{item:01d}_T1w')
    func_rest = create_key('sub-{subject}/{session}/func/sub-{subject}_{session}_task-rest_run-00{item:01d}_bold')
    func_rest_matrix96 =  create_key('sub-{subject}/{session}/func/sub-{subject}_{session}_task-rest_run-00{item:01d}_bold')
    func_rest_matrix96_sbref =  create_key('sub-{subject}/{session}/func/sub-{subject}_{session}_task-rest_run-00{item:01d}_sbref')
    fmap_mag =  create_key('sub-{subject}/{session}/fmap/sub-{subject}_{session}_magnitude')
    fmap_phase = create_key('sub-{subject}/{session}/fmap/sub-{subject}_{session}_phasediff')
    dwi = create_key('sub-{subject}/{session}/dwi/sub-{subject}_{session}_run-00{item:01d}_dwi')

    info = {t1w: [], func_rest: [],    func_rest_matrix96: [], func_rest_matrix96_sbref: [], fmap_mag: [], fmap_phase: [], dwi: []}
    
    for idx, s in enumerate(seqinfo):
        if (s.dim1 == 320) and (s.dim2 == 320) and ('t1_fl2d_tra' in s.protocol_name):
            info[t1w].append(s.series_id)
        if (s.dim1 == 128) and (s.dim2 == 128) and ('Resting State fMRI MBEPI' in s.protocol_name):
            info[func_rest].append(s.series_id)
        if (s.dim1 == 96) and (s.dim4 == 518) and ('Resting State fMRI MBEPI_matrix96_BW2004' in s.protocol_name):
            info[func_rest_matrix96].append(s.series_id)
        if (s.dim1 == 96) and (s.dim4 == 1) and ('Resting State fMRI MBEPI_matrix96_BW2004' in s.protocol_name):
            info[func_rest_matrix96_sbref].append(s.series_id)
        if (s.dim3 == 136) and (s.dim4 == 1) and ('gre_field_mapping' in s.protocol_name):
            info[fmap_mag] = [s.series_id]
        if (s.dim3 == 68) and (s.dim4 == 1) and ('gre_field_mapping' in s.protocol_name):
            info[fmap_phase] = [s.series_id]
        if (s.dim2 == 128) and (s.dim4 == 64):
            info[dwi].append(s.series_id)
    return info
</pre>
</div>
<p><strong><a id="heuman10"></a>Step 10.</strong> We have updated the heuristic.py file, so we can delete the dicominfo .tsv file and run HeuDiConv again to convert and organize ses-025. The command to do this is seen below.</p>
<div style="background: #ffffff; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;">docker run --rm -it -v /Users/franklinfeingold/Desktop/Heudiconv_walkthrough:/base nipy/heudiconv:latest -d /base/Dicom/sub-{subject}/ses-{session}/SCANS/*/DICOM/*.dcm -o /base/Nifti/ -f /base/Nifti/code/heuristic.py -s 01 -ss 025 -c dcm2niix -b --overwrite
</pre>
</div>
<p>After running HeuDiConv for ses-025, we are ready to <a href="http://bids-standard.github.io/bids-validator/">validate</a> our dataset. We have pictured below the ses-025 Nifti file structure.</p>
<p><a href="wp-content/uploads/2018/03/convert_struc_25.png"><img loading="lazy" decoding="async" class=" wp-image-682 aligncenter" src="wp-content/uploads/2018/03/convert_struc_25.png" alt="convert_struc_25" width="302" height="562" /></a></p>
<p><a href="wp-content/uploads/2018/03/upload_25-1.png"><img loading="lazy" decoding="async" class=" wp-image-684 aligncenter" src="wp-content/uploads/2018/03/upload_25-1.png" alt="upload_25" width="304" height="338" /></a></p>
<p>We find this is a valid BIDS dataset!</p>
<p><a href="wp-content/uploads/2018/02/Bids-valid-dataset.png"><img loading="lazy" decoding="async" class=" wp-image-419 aligncenter" src="wp-content/uploads/2018/02/Bids-valid-dataset.png" alt="Bids valid dataset" width="325" height="34" /></a></p>
<p>This tutorial demonstrated how to utilize HeuDiConv for converting DICOMs into a validated BIDS dataset. In the next part, we will walk through another off-the-shelf solution to consider for converting your datasets.</p>
</div>

</div>

<div class="post-share">
<div class="md-social-share-classic"><div class="item share-fb"><div class="fb-like" data-href="http://reproducibility.stanford.edu/bids-tutorial-series-part-2a/" data-width="450" data-layout="button_count" data-show-faces="false" data-send="false"></div></div><div class="item"><a href="https://twitter.com/share" class="twitter-share-button" data-url="http://reproducibility.stanford.edu/bids-tutorial-series-part-2a/">Tweet</a></div><div class="item"><div class="g-plusone" data-size="medium" data-action="share" data-annotation="bubble"></div></div><div class="item"><a class="pinterest-share" href="https://www.pinterest.com/pin/create/button/?url=http://reproducibility.stanford.edu/bids-tutorial-series-part-2a/&amp;media=&amp;description=BIDS&#32;Tutorial&#32;Series:&#32;HeuDiConv&#32;Walkthrough" data-pin-do="buttonPin" data-pin-config="beside"><img src="https://assets.pinterest.com/images/pidgets/pin_it_button.png" /></a></div></div></div>


<div id="comments">

            <h4 class="comment-title">21 Comments</h4>
    
            <ol class="commentlist">
                    <li class="comment even thread-even depth-1" id="li-comment-3495">
            <div id="comment-3495" class="comment-section">              
                <div class="comment-side">
                    <div class="comment-avatar"><a href="index.html@p=536.html" target="_blank"></a></div>
                </div>
            
                <div class="comment-cont">                                        
                    <div class="comment-meta">
                        <span class="comment-author">Dylan</span> <span class="comment-date">7 years</span>                        <span class="comment-reply"></span>
                        <span class="comment-edit"></span>
                    </div>
                                        
                    <div class="comment-body">
                        <p>Is there a tutorial for using HeuDiConv without Docker? Would be extremely helpful! Thanks in advance.</p>
                    </div>
                </div>
            </div>
    </li><!-- #comment-## -->
        <li class="comment byuser comment-author-franklin bypostauthor odd alt thread-odd thread-alt depth-1" id="li-comment-3884">
            <div id="comment-3884" class="comment-section">              
                <div class="comment-side">
                    <div class="comment-avatar"><a href="index.html@p=536.html" target="_blank"></a></div>
                </div>
            
                <div class="comment-cont">                                        
                    <div class="comment-meta">
                        <span class="comment-author">Franklin Feingold</span> <span class="comment-date">6 years</span>                        <span class="comment-reply"></span>
                        <span class="comment-edit"></span>
                    </div>
                                        
                    <div class="comment-body">
                        <p>Hi Dylan,</p>
<p>I am not aware of a tutorial that doesn&#8217;t use Docker. On the Heudiconv github (<a href="https://github.com/nipy/heudiconv" rel="nofollow ugc">https://github.com/nipy/heudiconv</a>) they describe how to set it up locally. From there the tutorial should be valid, but instead of running the container you are calling Heudiconv directly. The steps should be the same.</p>
<p>I hope that helps!<br />
Franklin</p>
                    </div>
                </div>
            </div>
    </li><!-- #comment-## -->
        <li class="comment even thread-even depth-1" id="li-comment-4529">
            <div id="comment-4529" class="comment-section">              
                <div class="comment-side">
                    <div class="comment-avatar"><a href="index.html@p=536.html" target="_blank"></a></div>
                </div>
            
                <div class="comment-cont">                                        
                    <div class="comment-meta">
                        <span class="comment-author">Dianne Patterson</span> <span class="comment-date">6 years</span>                        <span class="comment-reply"></span>
                        <span class="comment-edit"></span>
                    </div>
                                        
                    <div class="comment-body">
                        <p>Hi,<br />
thanks for the great tutorial.  It has been very helpful.  A minor issue, but heudiconv  generates a file called convertall.py instead of heuristic.py (step 3).</p>
                    </div>
                </div>
            </div>
    </li><!-- #comment-## -->
        <li class="comment byuser comment-author-franklin bypostauthor odd alt thread-odd thread-alt depth-1" id="li-comment-4674">
            <div id="comment-4674" class="comment-section">              
                <div class="comment-side">
                    <div class="comment-avatar"><a href="index.html@p=536.html" target="_blank"></a></div>
                </div>
            
                <div class="comment-cont">                                        
                    <div class="comment-meta">
                        <span class="comment-author">Franklin Feingold</span> <span class="comment-date">6 years</span>                        <span class="comment-reply"></span>
                        <span class="comment-edit"></span>
                    </div>
                                        
                    <div class="comment-body">
                        <p>Hi Dianne, </p>
<p>Great to hear this tutorial has been helpful! Thank you for bring up this issue. Heudiconv will generate the convertall.py within the heudiconv hidden folder on the first pass. This is because it is the initial config file you are running to generate the initial dicominfo tsv file to help create your heuristic.py file. The heuristic.py file is what we are generating so heudiconv can organize the imaging files according to the rules defined in the heuristic file. When one runs it the second time, the heuristic.py file will be generated in place of the convertall.py file. </p>
<p>I hope this clarifies this issue,<br />
Franklin</p>
                    </div>
                </div>
            </div>
    </li><!-- #comment-## -->
        <li class="comment even thread-even depth-1" id="li-comment-5667">
            <div id="comment-5667" class="comment-section">              
                <div class="comment-side">
                    <div class="comment-avatar"><a href="index.html@p=536.html" target="_blank"></a></div>
                </div>
            
                <div class="comment-cont">                                        
                    <div class="comment-meta">
                        <span class="comment-author">Lauren</span> <span class="comment-date">6 years</span>                        <span class="comment-reply"></span>
                        <span class="comment-edit"></span>
                    </div>
                                        
                    <div class="comment-body">
                        <p>Thank you for putting all of these together. They have been so helpful! Is anyone aware of a tutorial using singularity, rather than docker, with heudiconv?</p>
                    </div>
                </div>
            </div>
    </li><!-- #comment-## -->
        <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-5686">
            <div id="comment-5686" class="comment-section">              
                <div class="comment-side">
                    <div class="comment-avatar"><a href="index.html@p=536.html" target="_blank"></a></div>
                </div>
            
                <div class="comment-cont">                                        
                    <div class="comment-meta">
                        <span class="comment-author">Dianne Patterson</span> <span class="comment-date">6 years</span>                        <span class="comment-reply"></span>
                        <span class="comment-edit"></span>
                    </div>
                                        
                    <div class="comment-body">
                        <p>Hi Franklin,<br />
I appreciate your response.  I have modified and run convertall.py many times now (it works well, thanks to this useful tutorial).  I have never seen this mysterious heuristic.py&#8230;not in the hidden .heudiconv directory, not in any subdirectories of Code&#8230;perhaps it is created temporarily in the docker file and then gone when the instance finishes running?  I am mystified&#8230;</p>
<p>I am actually wondering now if there is any information on running reproin with docker&#8230;it seems to be a bit different, and I&#8217;m struggling to guess how to make it work.  Any suggestions?</p>
<p>Thanks for your time.</p>
                    </div>
                </div>
            </div>
    </li><!-- #comment-## -->
        <li class="comment even thread-even depth-1" id="li-comment-5688">
            <div id="comment-5688" class="comment-section">              
                <div class="comment-side">
                    <div class="comment-avatar"><a href="index.html@p=536.html" target="_blank"></a></div>
                </div>
            
                <div class="comment-cont">                                        
                    <div class="comment-meta">
                        <span class="comment-author">Dianne Patterson</span> <span class="comment-date">6 years</span>                        <span class="comment-reply"></span>
                        <span class="comment-edit"></span>
                    </div>
                                        
                    <div class="comment-body">
                        <p>Maybe hueristic.py is just the name you chose?  I just copied convertall.py to Code&#8230;it helped me to modify the template. </p>
<p>WRT reproin, never mind&#8230;this is working ; )<br />
docker run &#8211;rm -it -v ${PWD}:/base nipy/heudiconv:latest -f reproin &#8211;bids -o /base/Nifti &#8211;files /base/Dicom/phantom-1</p>
                    </div>
                </div>
            </div>
    </li><!-- #comment-## -->
        <li class="comment byuser comment-author-franklin bypostauthor odd alt thread-odd thread-alt depth-1" id="li-comment-5777">
            <div id="comment-5777" class="comment-section">              
                <div class="comment-side">
                    <div class="comment-avatar"><a href="index.html@p=536.html" target="_blank"></a></div>
                </div>
            
                <div class="comment-cont">                                        
                    <div class="comment-meta">
                        <span class="comment-author">Franklin Feingold</span> <span class="comment-date">6 years</span>                        <span class="comment-reply"></span>
                        <span class="comment-edit"></span>
                    </div>
                                        
                    <div class="comment-body">
                        <p>Hi Lauren, </p>
<p>Great to hear the tutorials have been helpful! I am not aware of any, but asking over on their github (<a href="https://github.com/nipy/heudiconv" rel="nofollow ugc">https://github.com/nipy/heudiconv</a>), they may be able to point you in a good direction to using heudiconv with singularity.</p>
<p>Thank you,<br />
Franklin</p>
                    </div>
                </div>
            </div>
    </li><!-- #comment-## -->
        <li class="comment byuser comment-author-franklin bypostauthor even thread-even depth-1" id="li-comment-5778">
            <div id="comment-5778" class="comment-section">              
                <div class="comment-side">
                    <div class="comment-avatar"><a href="index.html@p=536.html" target="_blank"></a></div>
                </div>
            
                <div class="comment-cont">                                        
                    <div class="comment-meta">
                        <span class="comment-author">Franklin Feingold</span> <span class="comment-date">6 years</span>                        <span class="comment-reply"></span>
                        <span class="comment-edit"></span>
                    </div>
                                        
                    <div class="comment-body">
                        <p>Hi Dianne, </p>
<p>Thank you for your follow up! I apologize for the confusion! The heuristic.py file is generated by you, heudiconv will not generate this. Heudiconv generates the dicominfo.tsv file for you to use to generate the rules for the heuristic.py file. For example in step 3 where I have shown my dicominfo file and under it what my heuristic.py file (that I created) would look like. I&#8217;m happy to hear that reproin worked!</p>
<p>I hope this helps clear up the confusion!<br />
Franklin</p>
                    </div>
                </div>
            </div>
    </li><!-- #comment-## -->
        <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-6233">
            <div id="comment-6233" class="comment-section">              
                <div class="comment-side">
                    <div class="comment-avatar"><a href="index.html@p=536.html" target="_blank"></a></div>
                </div>
            
                <div class="comment-cont">                                        
                    <div class="comment-meta">
                        <span class="comment-author">Hugo Angulo</span> <span class="comment-date">6 years</span>                        <span class="comment-reply"></span>
                        <span class="comment-edit"></span>
                    </div>
                                        
                    <div class="comment-body">
                        <p>Hi there,</p>
<p>I am trying to use the BIDS validator, but I always get an error that says:<br />
1: [ERR] You have to define &#8216;TaskName&#8217; for this file. (code: 50 &#8211; TASK_NAME_MUST_DEFINE)<br />
		./sub-01/ses-005/func/sub-01_ses-005_task-rest_run-001_bold.nii.gz<br />
		./sub-01/ses-025/func/sub-01_ses-025_task-rest_run-001_bold.nii.gz</p>
<p>Has anyone experienced this behavior? How can I fix it?</p>
<p>Thanks for any help on this.</p>
                    </div>
                </div>
            </div>
    </li><!-- #comment-## -->
        <li class="comment byuser comment-author-franklin bypostauthor even thread-even depth-1" id="li-comment-6593">
            <div id="comment-6593" class="comment-section">              
                <div class="comment-side">
                    <div class="comment-avatar"><a href="index.html@p=536.html" target="_blank"></a></div>
                </div>
            
                <div class="comment-cont">                                        
                    <div class="comment-meta">
                        <span class="comment-author">Franklin Feingold</span> <span class="comment-date">6 years</span>                        <span class="comment-reply"></span>
                        <span class="comment-edit"></span>
                    </div>
                                        
                    <div class="comment-body">
                        <p>Hi Hugo,</p>
<p>Thank you for your question. This error pertains to defining the TaskName in your json file associated with those files. For example this would be the ./sub-01/ses-005/func/sub-01_ses-005_task-rest_run-001_bold.json file. More information regarding adding the TaskName can be found here: <a href="bids-tutorial-series-part-1a/index.html#man14" rel="ugc">http://reproducibility.stanford.edu/bids-tutorial-series-part-1a/#man14</a> . It is the highlighted portion adding the TaskName to the json file.</p>
<p>Thank you,<br />
Franklin</p>
                    </div>
                </div>
            </div>
    </li><!-- #comment-## -->
        <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-6651">
            <div id="comment-6651" class="comment-section">              
                <div class="comment-side">
                    <div class="comment-avatar"><a href="index.html@p=536.html" target="_blank"></a></div>
                </div>
            
                <div class="comment-cont">                                        
                    <div class="comment-meta">
                        <span class="comment-author">Brian Odegaard</span> <span class="comment-date">6 years</span>                        <span class="comment-reply"></span>
                        <span class="comment-edit"></span>
                    </div>
                                        
                    <div class="comment-body">
                        <p>Hi &#8211; </p>
<p>Very basic question: step 1 in this tutorial yields the following error for me:</p>
<p>docker pull nipy/heudiconv:latest<br />
Error response from daemon: manifest for nipy/heudiconv:latest not found</p>
<p>I tried installing HeuDiConv with pip, which worked fine, and then tried to avoiding the :latest tag in other steps, but it looks like it&#8217;s automatically built in even when not explicitly included, so it kept giving the same error.  Any advice?</p>
                    </div>
                </div>
            </div>
    </li><!-- #comment-## -->
        <li class="comment byuser comment-author-franklin bypostauthor even thread-even depth-1" id="li-comment-6686">
            <div id="comment-6686" class="comment-section">              
                <div class="comment-side">
                    <div class="comment-avatar"><a href="index.html@p=536.html" target="_blank"></a></div>
                </div>
            
                <div class="comment-cont">                                        
                    <div class="comment-meta">
                        <span class="comment-author">Franklin Feingold</span> <span class="comment-date">6 years</span>                        <span class="comment-reply"></span>
                        <span class="comment-edit"></span>
                    </div>
                                        
                    <div class="comment-body">
                        <p>Hi Brian, </p>
<p>Thank you for your question. By chance was docker running when you received this error? I have found this error is typically associated with docker not running with trying to use docker. The pip error is interesting &#8211; it could be worth raising it on their github: <a href="https://github.com/nipy/heudiconv" rel="nofollow ugc">https://github.com/nipy/heudiconv</a>.</p>
<p>Thank you,<br />
Franklin</p>
                    </div>
                </div>
            </div>
    </li><!-- #comment-## -->
        <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-7066">
            <div id="comment-7066" class="comment-section">              
                <div class="comment-side">
                    <div class="comment-avatar"><a href="index.html@p=536.html" target="_blank"></a></div>
                </div>
            
                <div class="comment-cont">                                        
                    <div class="comment-meta">
                        <span class="comment-author">Mingwen</span> <span class="comment-date">6 years</span>                        <span class="comment-reply"></span>
                        <span class="comment-edit"></span>
                    </div>
                                        
                    <div class="comment-body">
                        <p>@Brian Odegaard   I encountered into the same error and used the following command to make it work `docker pull nipy/heudiconv:debian`</p>
                    </div>
                </div>
            </div>
    </li><!-- #comment-## -->
        <li class="comment even thread-even depth-1" id="li-comment-10223">
            <div id="comment-10223" class="comment-section">              
                <div class="comment-side">
                    <div class="comment-avatar"><a href="index.html@p=536.html" target="_blank"></a></div>
                </div>
            
                <div class="comment-cont">                                        
                    <div class="comment-meta">
                        <span class="comment-author">RB</span> <span class="comment-date">6 years</span>                        <span class="comment-reply"></span>
                        <span class="comment-edit"></span>
                    </div>
                                        
                    <div class="comment-body">
                        <p>Thank you for this great tutorial. I am following the steps on the example dataset, however I can not create .tsv file. when i run step 2, i get this &#8211;<br />
INFO: Running heudiconv version 0.6.0.dev1<br />
INFO: Need to process 0 study sessions<br />
and there is nothing in output folder.</p>
                    </div>
                </div>
            </div>
    </li><!-- #comment-## -->
        <li class="comment byuser comment-author-franklin bypostauthor odd alt thread-odd thread-alt depth-1" id="li-comment-10350">
            <div id="comment-10350" class="comment-section">              
                <div class="comment-side">
                    <div class="comment-avatar"><a href="index.html@p=536.html" target="_blank"></a></div>
                </div>
            
                <div class="comment-cont">                                        
                    <div class="comment-meta">
                        <span class="comment-author">Franklin Feingold</span> <span class="comment-date">5 years</span>                        <span class="comment-reply"></span>
                        <span class="comment-edit"></span>
                    </div>
                                        
                    <div class="comment-body">
                        <p>Thank you for your question! This appears to be an issue with the mounting of directories and HeuDiConv not reading them. This is seen from the message `INFO: Need to process 0 study sessions`. Confirming the paths to the files and the subject and session keys.</p>
                    </div>
                </div>
            </div>
    </li><!-- #comment-## -->
        <li class="comment even thread-even depth-1" id="li-comment-15094">
            <div id="comment-15094" class="comment-section">              
                <div class="comment-side">
                    <div class="comment-avatar"><a href="index.html@p=536.html" target="_blank"></a></div>
                </div>
            
                <div class="comment-cont">                                        
                    <div class="comment-meta">
                        <span class="comment-author">Simon THIBAULT</span> <span class="comment-date">5 years</span>                        <span class="comment-reply"></span>
                        <span class="comment-edit"></span>
                    </div>
                                        
                    <div class="comment-body">
                        <p>Hi,<br />
Thank you for this tutorial.<br />
I am getting an error that I am struggling to understand. Yesterday, it worked perfectly until step 4.<br />
However, today it&#8217;s more difficult because I have an issue  &#8220;INFO: Need to process 0 study sessions&#8221;.<br />
I already had this issue at the beginning but I did not really understand how I solved it .<br />
Did I miss an important step before applying step 2 ? Something about re-initialisation or something similar ?<br />
Best,<br />
Simon</p>
                    </div>
                </div>
            </div>
    </li><!-- #comment-## -->
        <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-15096">
            <div id="comment-15096" class="comment-section">              
                <div class="comment-side">
                    <div class="comment-avatar"><a href="index.html@p=536.html" target="_blank"></a></div>
                </div>
            
                <div class="comment-cont">                                        
                    <div class="comment-meta">
                        <span class="comment-author">Simon THIBAULT</span> <span class="comment-date">5 years</span>                        <span class="comment-reply"></span>
                        <span class="comment-edit"></span>
                    </div>
                                        
                    <div class="comment-body">
                        <p>It &#8216;s has been solved after rebooting my computer but I did not understand the reason &#8230;</p>
                    </div>
                </div>
            </div>
    </li><!-- #comment-## -->
        <li class="comment byuser comment-author-franklin bypostauthor even thread-even depth-1" id="li-comment-15547">
            <div id="comment-15547" class="comment-section">              
                <div class="comment-side">
                    <div class="comment-avatar"><a href="index.html@p=536.html" target="_blank"></a></div>
                </div>
            
                <div class="comment-cont">                                        
                    <div class="comment-meta">
                        <span class="comment-author">Franklin Feingold</span> <span class="comment-date">5 years</span>                        <span class="comment-reply"></span>
                        <span class="comment-edit"></span>
                    </div>
                                        
                    <div class="comment-body">
                        <p>Hi Simon,<br />
Good to hear this was resolved! This case may be something the HeuDiConv team could provide guidance on.</p>
<p>Thank you,<br />
Franklin</p>
                    </div>
                </div>
            </div>
    </li><!-- #comment-## -->
        <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-19128">
            <div id="comment-19128" class="comment-section">              
                <div class="comment-side">
                    <div class="comment-avatar"><a href="index.html@p=536.html" target="_blank"></a></div>
                </div>
            
                <div class="comment-cont">                                        
                    <div class="comment-meta">
                        <span class="comment-author">Carina Forster</span> <span class="comment-date">4 years</span>                        <span class="comment-reply"></span>
                        <span class="comment-edit"></span>
                    </div>
                                        
                    <div class="comment-body">
                        <p>Thank you for the great tutorial.</p>
<p>If I want to validate session 5 I get the following error:<br />
JSON_SCHEMA_VALIDATION_ERROR<br />
sub-01_ses-005_task-rest_run-001_bold.json43.582 KB </p>
<p>Location:<br />
Nifti/sub-01/ses-005/func/sub-01_ses-005_task-rest_run-001_bold.json</p>
<p>Reason:<br />
Invalid JSON file. The file is not formatted according the schema.</p>
<p>Evidence:<br />
.CogAtlasID should match format &#8220;uri&#8221;</p>
<p>task-rest_bold.json43.631 KB<br />
Location:<br />
Nifti/task-rest_bold.json</p>
<p>Reason:<br />
Invalid JSON file. The file is not formatted according the schema.</p>
<p>Evidence:<br />
.CogAtlasID should match format &#8220;uri&#8221;</p>
<p>I am not sure how to solve that issue?</p>
<p>Thank you again for your help.</p>
<p>Carina</p>
                    </div>
                </div>
            </div>
    </li><!-- #comment-## -->
        <li class="comment byuser comment-author-franklin bypostauthor even thread-even depth-1" id="li-comment-22838">
            <div id="comment-22838" class="comment-section">              
                <div class="comment-side">
                    <div class="comment-avatar"><a href="index.html@p=536.html" target="_blank"></a></div>
                </div>
            
                <div class="comment-cont">                                        
                    <div class="comment-meta">
                        <span class="comment-author">Franklin Feingold</span> <span class="comment-date">4 years</span>                        <span class="comment-reply"></span>
                        <span class="comment-edit"></span>
                    </div>
                                        
                    <div class="comment-body">
                        <p>Hi Carina, </p>
<p>Thank you for your message and I apologize for my very delayed reply. If you may please direct questions over to NeuroStars (<a href="https://neurostars.org/tag/bids" rel="nofollow ugc">https://neurostars.org/tag/bids</a>) with the &#8220;bids&#8221; tag. That is a more active platform for supporting the community to adopt BIDS.</p>
<p>Thank you,<br />
Franklin</p>
                    </div>
                </div>
            </div>
    </li><!-- #comment-## -->
            </ol>
                
                <p class="nocomments">Comments are closed.</p>
                
    
        

</div>
	</article>
</div></div><div class="col-md-3 col-md-right col-sm-right"><aside class="blog-widget-area widget-area">       
	<div id="search-2" class="widget widget_search"><div class="widget_search">
	<form method="get" id="searchform" action="index.html">
		<fieldset>
			<input id="s" type="text" name="s" value="" placeholder="To search type and hit enter..." />
			<input id="searchsubmit" type="submit" />
	    </fieldset>
	</form>
</div></div><div id="archives-2" class="widget widget_archive"><h3 class="widget-title">Archives</h3>
			<ul>
					<li><a href='2021/12/index.html'>December 2021</a></li>
	<li><a href='2021/08/index.html'>August 2021</a></li>
	<li><a href='2021/03/index.html'>March 2021</a></li>
	<li><a href='2020/10/index.html'>October 2020</a></li>
	<li><a href='2020/09/index.html'>September 2020</a></li>
	<li><a href='2020/08/index.html'>August 2020</a></li>
	<li><a href='2020/03/index.html'>March 2020</a></li>
	<li><a href='2020/02/index.html'>February 2020</a></li>
	<li><a href='2020/01/index.html'>January 2020</a></li>
	<li><a href='2019/10/index.html'>October 2019</a></li>
	<li><a href='2019/09/index.html'>September 2019</a></li>
	<li><a href='2019/06/index.html'>June 2019</a></li>
	<li><a href='2019/05/index.html'>May 2019</a></li>
	<li><a href='2019/04/index.html'>April 2019</a></li>
	<li><a href='2019/03/index.html'>March 2019</a></li>
	<li><a href='2019/02/index.html'>February 2019</a></li>
	<li><a href='2019/01/index.html'>January 2019</a></li>
	<li><a href='2018/10/index.html'>October 2018</a></li>
	<li><a href='2018/09/index.html'>September 2018</a></li>
	<li><a href='2018/08/index.html'>August 2018</a></li>
	<li><a href='2018/06/index.html'>June 2018</a></li>
	<li><a href='2018/05/index.html'>May 2018</a></li>
	<li><a href='2018/02/index.html'>February 2018</a></li>
	<li><a href='2017/11/index.html'>November 2017</a></li>
	<li><a href='2017/10/index.html'>October 2017</a></li>
	<li><a href='2017/06/index.html'>June 2017</a></li>
	<li><a href='2017/04/index.html'>April 2017</a></li>
	<li><a href='2017/01/index.html'>January 2017</a></li>
	<li><a href='2016/08/index.html'>August 2016</a></li>
	<li><a href='2016/04/index.html'>April 2016</a></li>
	<li><a href='2015/12/index.html'>December 2015</a></li>
	<li><a href='2015/08/index.html'>August 2015</a></li>
	<li><a href='2015/07/index.html'>July 2015</a></li>
	<li><a href='2015/06/index.html'>June 2015</a></li>
			</ul>

			</div>	</aside></div></div>		</div>
	</div>
	

<footer>
	<div class="container">
		<div class="row">

			
						<div class="col-md-4 column">
													<div id="text-3" class="widget widget_text"><h3 class="widget-title">Affiliates</h3>			<div class="textwidget"><h4><a  href=" https://poldracklab.stanford.edu" target="_blank">poldracklab@stanford</a></h4>
<br />
<h4><a  href=" https://post.stanford.edu/" target="_blank">Stanford PoST</a></h4>
<br />
<h4><a  href=" http://squishymedia.com" target="_blank">Squishymedia</a></h4></div>
		</div>												</div>

						<div class="col-md-4 column">
													<div id="text-4" class="widget widget_text"><h3 class="widget-title">Support for CRN provided by</h3>			<div class="textwidget"><a href="http://www.arnoldfoundation.org/" target="_blank" ><img  style="  width: 190px;
  margin: 10px 0;
  height: auto;
  display: block;"
src="wp-content/uploads/2015/06/ljaf-logo1.png" /></a>
<br />
<a href="http://www.nsf.gov/"  target="_blank"><img  style="  width: 200px;
  margin: 10px 0;
  height: auto;
  display: block;" src="wp-content/uploads/2015/06/nsf_logo.png" /></a>
<br />
<a href="http://www.drugabuse.gov/"  target="_blank"><img  style="  width: 190px;
  margin: 10px 0;
  height: auto;
  display: block;" src="wp-content/uploads/2015/06/nida-logo.png" /></a></div>
		</div>												</div>

						<div class="col-md-4 column">
													
		<div id="recent-posts-3" class="widget widget_recent_entries">
		<h3 class="widget-title">Recent Blog Posts</h3>
		<ul>
											<li>
					<a href="index.html@p=1192.html">The most open and sharing labs on OpenNeuro (March 2021 &#8211; August 2021)</a>
											<span class="post-date">December 16, 2021</span>
									</li>
											<li>
					<a href="index.html@p=1181.html">Slice timing correction in fMRIprep and linear modeling</a>
											<span class="post-date">August 24, 2021</span>
									</li>
											<li>
					<a href="index.html@p=1159.html">The most open and sharing labs on OpenNeuro (September 2020 &#8211; February 2021)</a>
											<span class="post-date">March 29, 2021</span>
									</li>
											<li>
					<a href="index.html@p=1144.html">Copy-pasting your methods section is good, actually.</a>
											<span class="post-date">October 28, 2020</span>
									</li>
											<li>
					<a href="index.html@p=1097.html">fMRIPrep: Versioning and Long-Term Support</a>
											<span class="post-date">September 28, 2020</span>
									</li>
					</ul>

		</div>												</div>
						</div>
	</div>	
</footer>


<div id="copyright">
	<div class="container">
		<div class="copyright-text">© Stanford CRN </div>
		<div class="float-right">
				</div>
	</div>
</div>

</div>
<!-- end wrap -->


<a href="index.html@p=536.html#" id="md-back-top"></a><script type="text/javascript">                                    </script><script type="text/javascript">                                    </script>


<script type="text/javascript" src="wp-content/plugins/contact-form-7/includes/js/jquery.form.min.js@ver=3.51.0-2014.06.20" id="jquery-form-js"></script>
<script type="text/javascript" id="contact-form-7-js-extra">
/* <![CDATA[ */
var _wpcf7 = {"loaderUrl":"https:\/\/reproducibility.stanford.edu\/wp-content\/plugins\/contact-form-7\/images\/ajax-loader.gif","recaptchaEmpty":"Please verify that you are not a robot.","sending":"Sending ...","cached":"1"};
/* ]]> */
</script>
<script type="text/javascript" src="wp-content/plugins/contact-form-7/includes/js/scripts.js@ver=4.4.2" id="contact-form-7-js"></script>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false" id="google-maps-js"></script>
<script type="text/javascript" src="wp-content/themes/flex/framework/md-page-builder/lib/md-shortcodes/assets/js/libs/jquery.easing.js@ver=1.3.0" id="jquery-easing-js"></script>
<script type="text/javascript" src="wp-content/themes/flex/framework/md-page-builder/lib/md-shortcodes/assets/js/libs/jquery.isotope.js@ver=1.5.25" id="isotope-js"></script>
<script type="text/javascript" src="wp-content/themes/flex/framework/md-page-builder/lib/md-shortcodes/assets/js/libs/owl-carousel/owl.carousel.min.js@ver=1.27" id="owl-carousel-js"></script>
<script type="text/javascript" src="wp-content/themes/flex/framework/md-page-builder/lib/md-shortcodes/assets/js/libs/jquery.flexslider-min.js@ver=2.2.2" id="jquery-flexslider-js"></script>
<script type="text/javascript" src="wp-content/themes/flex/framework/md-page-builder/lib/md-shortcodes/assets/js/libs/fancybox/jquery.fancybox.pack.js@ver=2.1.5" id="jquery-fancybox-js"></script>
<script type="text/javascript" src="wp-content/themes/flex/framework/md-page-builder/lib/md-shortcodes/assets/js/libs/fancybox/helpers/jquery.fancybox-media.js@ver=1.0.6" id="jquery-fancybox-media-js"></script>
<script type="text/javascript" src="wp-content/themes/flex/framework/md-page-builder/lib/md-shortcodes/assets/js/libs/jquery.fitvids.js@ver=1.0.3" id="jquery-fitvids-js"></script>
<script type="text/javascript" src="wp-content/themes/flex/framework/md-page-builder/lib/md-shortcodes/assets/js/libs/mediaelement/mediaelement-and-player.min.js@ver=2.14.2" id="md-mediaelement-js"></script>
<script type="text/javascript" src="wp-content/themes/flex/framework/md-page-builder/lib/md-shortcodes/assets/js/libs/jquery.countTo.js@ver=1.0" id="jquery-countTo-js"></script>
<script type="text/javascript" src="wp-content/themes/flex/framework/md-page-builder/lib/md-shortcodes/assets/js/libs/jquery.viewport.js@ver=1.0" id="jquery-viewport-js"></script>
<script type="text/javascript" src="wp-content/themes/flex/framework/md-page-builder/lib/md-shortcodes/assets/js/libs/jquery.easypiechart.js@ver=1.2.5" id="jquery-easypiechart-js"></script>
<script type="text/javascript" src="wp-content/themes/flex/framework/md-page-builder/lib/md-shortcodes/assets/js/libs/jquery.simple-text-rotator.min.js@ver=1.0" id="jquery-simple-text-rotator-js"></script>
<script type="text/javascript" src="wp-content/themes/flex/assets/js/vendor/bootstrap.js" id="flex-bootstrap-js"></script>
<script type="text/javascript" src="wp-content/themes/flex/assets/js/vendor/plugins.js" id="flex-plugins-js"></script>
<script type="text/javascript" src="wp-content/themes/flex/assets/js/theme.js" id="flex-js"></script>

</body>
</html>
<!-- Dynamic page generated in 0.364 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2025-04-21 18:01:32 -->

<!-- super cache -->